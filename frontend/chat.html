<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Chat - Brooklyn Public Library</title>
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/chat.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Forum&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
</head>
<body>
<header class="main-header">
    <h1 class="main-header__title">Brooklyn Public Library</h1>
    <nav class="navigation" id="navigation">
        <ul class="navigation__links" id="navigation__links">
            <li><a class="navigation__item" href="index.html">Home</a></li>
            <li><a class="navigation__item" href="index.html#about">About</a></li>
            <li><a class="navigation__item" href="index.html#favorites">Favorites</a></li>
            <li><a class="navigation__item" href="index.html#coffee">Coffee shop</a></li>
            <li><a class="navigation__item" href="index.html#contacts">Contacts</a></li>
            <li><a class="navigation__item" href="index.html#library-card">Library Card</a></li>
        </ul>
    </nav>

    <div class="navigation-icons" id="navigation-icons">
        <button class="btn-profile">
            <svg class="profile-icon icon-link" width="28px" height="28px">
                <use href="assets/svg/icons.svg#icon-profile"></use>
            </svg>
        </button>

        <div class="drop-menu-profile drop-menu-profile-no-auth" id="drop-menu-profile-no-auth">
            <span class="drop-menu-profile-card-number">Profile</span>
            <span class="drop-menu-profile-line"></span>
            <button class="drop-menu-profile-btn drop-menu-profile-login-btn log-in">Log In</button>
            <button class="drop-menu-profile-btn drop-menu-profile-register-btn sign-up">Register</button>
        </div>

        <div class="drop-menu-profile drop-menu-profile-auth" id="drop-menu-profile-auth">
            <span class="drop-menu-profile-card-number" id="drop-menu-profile-card-number">Profile</span>
            <span class="drop-menu-profile-line"></span>
            <button class="drop-menu-profile-btn drop-menu-profile-myprofile-btn my-profile">My profile</button>
            <button class="drop-menu-profile-btn drop-menu-profile-logout-btn log-out">Log Out</button>
        </div>

        <div class="burger-button" id="burger-button">
            <div class="burger-button__bar"></div>
            <div class="burger-button__bar"></div>
            <div class="burger-button__bar"></div>
        </div>
    </div>
</header>

<main class="chat-main">
    <section class="section section-chat">
        <h2 class="section__title">Community Chat</h2>
        <hr class="section__title-underline">

        <div class="chat__description">
            <p class="section__description">Join our library community chat to discuss books, share recommendations,
                and connect with fellow readers. You can chat anonymously or use your library account for a
                personalized experience.</p>
        </div>

        <div class="chat-container">
            <div class="chat__join-section">

                <div class="chat__join-form">
                    <input type="text" id="roomName" class="chat__input" placeholder="Enter room name" required>
                    <button class="button button-secondary chat__join-btn" onclick="joinRoom()">Join</button>
                    <button id="statusToggle" class="button button-secondary" onclick="toggleStatus()">Go Online
                    </button>
                </div>

                <div class="chat__instructions">
                    <div class="chat__instruction-item">
                        <span>Authenticated users see real names and can access profiles</span>
                    </div>
                    <div class="chat__instruction-item">
                        <span>Anonymous users appear as "User_XXXX"</span>
                    </div>
                    <div class="chat__instruction-item">
                        <span>Enable notifications for new messages</span>
                    </div>
                </div>
            </div>

            <div id="chatSection" class="chat__chat-section hidden">
                <div class="chat__header">
                    <h3 class="chat__room-title" id="roomTitle"></h3>
                </div>

                <div id="chat" class="chat__messages"></div>

                <div class="chat__send-form">
                    <input type="text" id="message" class="chat__input chat__message-input"
                           placeholder="Type your message here..." onkeypress="if(event.key === 'Enter') sendMessage()">
                    <button class="button button-primary chat__send-btn" onclick="sendMessage()">Send</button>
                </div>

                <div class="chat__info">
                    <svg class="chat__info-icon" width="16px" height="16px">
                        <use href="assets/svg/icons.svg#icon-info"></use>
                    </svg>
                    <span>Click on any user's name to view their profile (authenticated users only)</span>
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="footer-wrapper">
    <div class="footer-contacts-wrapper">
        <div class="footer-contacts">
            <p class="address"><a class="footer-link" href="https://goo.gl/maps/89vQ8Y5qs4DkFxkM7" target="_blank">286
                Cadman Plaza, New York,<br> NY 11238, United States</a></p>
            <ul class="social">
                <li>
                    <a class="footer-link" href="https://www.twitter.com/bklynlibrary" target="_blank">
                        <svg class="social-icon icon-link" width="24px" height="24px">
                            <use href="assets/svg/icons.svg#icon-twitter"></use>
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="footer-link" href="https://www.instagram.com/bklynlibrary" target="_blank">
                        <svg class="social-icon icon-link" width="24px" height="24px">
                            <use href="assets/svg/icons.svg#icon-instagram"></use>
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="footer-link" href="https://www.facebook.com/BrooklynPublicLibrary/" target="_blank">
                        <svg class="social-icon icon-link" width="24px" height="24px">
                            <use href="assets/svg/icons.svg#icon-facebook"></use>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
        <div class="footer-schedule">
            <p class="schedule">Mon - Fri<br>
                08&#58;00 am - 07&#58;00 pm</p>
            <p class="schedule">Sat - Sun<br>
                10&#58;00 am - 06&#58;00 pm</p>
        </div>
    </div>
    <hr class="footer-line">
    <div class="footer-credits-wrapper">
        <span class="credits-content credits-content-year">2023</span>
        <span class="credits-content"><a class="footer-link" href="https://rs.school/js-stage0/" target="_blank">The Rolling Scopes School</a></span>
        <span class="credits-content credits-content-nickname"><a class="footer-link" href="https://github.com/annsilin"
                                                                  target="_blank">annsilin</a></span>
    </div>
</footer>

<div class="overlay hidden"></div>

<div class="modal-profile hidden">
    <div class="modal-profile__user">
        <div class="modal-profile__user-pic"></div>
        <div class="modal-profile__user-name">
            <span class="modal-profile__user-name-first"></span>
            <span class="modal-profile__user-name-last"></span>
        </div>
    </div>
    <div class="modal-profile__info">
        <h2 class="modal-profile-title">My profile</h2>
        <div class="modal-profile__info-cards">
            <div class="modal-profile__info-card">
                <span class="modal-profile__info-card-title">Visits</span>
                <svg class="" width="20px" height="21px">
                    <use href="assets/svg/icons.svg#icon-visits"></use>
                </svg>
                <span class="modal-profile__info-card-counter modal-profile__info-card-visits">0</span>
            </div>
            <div class="modal-profile__info-card">
                <span class="modal-profile__info-card-title">Bonuses</span>
                <svg class="" width="20px" height="21px">
                    <use href="assets/svg/icons.svg#icon-bonuses"></use>
                </svg>
                <span class="modal-profile__info-card-counter modal-profile__info-card-bonuses">1240</span>
            </div>
            <div class="modal-profile__info-card">
                <span class="modal-profile__info-card-title">Books</span>
                <svg class="" width="20px" height="21px">
                    <use href="assets/svg/icons.svg#icon-books"></use>
                </svg>
                <span class="modal-profile__info-card-counter modal-profile__info-card-books">0</span>
            </div>
        </div>
        <span class="modal-profile__info-books-title">Rented books</span>
        <div class="modal-profile__info-books">
            <ul class="modal-profile__info-books-list">
            </ul>
        </div>
        <div class="modal-profile__info-library-card">
            <span class="modal-profile__info-library-card-title">Card number</span>
            <span class="modal-profile__info-library-card-number"></span>
            <button class="btn-copy" onclick="copyToClipboard()">
                <svg class="icon-copy" width="13.31px" height="12px">
                    <use href="assets/svg/icons.svg#icon-copy"></use>
                </svg>
            </button>
        </div>
        <button class="button" style="margin-bottom: 20px;"><a href="profile.html"
                                                               style="text-decoration: none; color: inherit;">Full
            profile</a></button>
    </div>
    <button class="btn-close">
        <svg class="icon-close" width="19px" height="19px">
            <use href="assets/svg/icons.svg#icon-close"></use>
        </svg>
    </button>
</div>

<div class="modal-register-login modal-register hidden">
    <h2 class="modal-register-login__title">Register</h2>
    <button class="btn-close">
        <svg class="icon-close" width="19px" height="19px">
            <use href="assets/svg/icons.svg#icon-close"></use>
        </svg>
    </button>

    <form class="modal-form" id="registration-form">
        <div class="input-field">
            <label for="first-name">First name</label>
            <input type="text" id="first-name" name="first-name">
            <small class="validation"></small>
        </div>

        <div class="input-field">
            <label for="last-name">Last name</label>
            <input type="text" id="last-name" name="last-name">
            <small class="validation"></small>
        </div>

        <div class="input-field">
            <label for="email-register">E-mail</label>
            <input type="text" id="email-register" name="email">
            <small class="validation"></small>
        </div>

        <div class="input-field password">
            <label for="password-register">Password</label>
            <input type="password" id="password-register" name="password">
            <button type="button" class="btn-eye" id="password-register-visibility">
                <svg class="icon-eye" width="19px" height="19px">
                    <use href="assets/svg/icons.svg#icon-eye"></use>
                </svg>
                <svg class="icon-eye-slash" width="19px" height="19px" style="display: none">
                    <use href="assets/svg/icons.svg#icon-eye-slash"></use>
                </svg>
            </button>
            <small class="validation"></small>
        </div>

        <button type="submit" class="button">Sign Up</button>
    </form>

    <div class="modal-register-login-alt">
        <span class="modal-register-login-alt__text">Already have an account?</span>
        <button class="modal-register-login-alt__btn log-in">Login</button>
    </div>

</div>

<div class="modal-register-login modal-login hidden">
    <h2 class="modal-register-login__title">Login</h2>
    <button class="btn-close">
        <svg class="icon-close" width="19px" height="19px">
            <use href="assets/svg/icons.svg#icon-close"></use>
        </svg>
    </button>

    <form class="modal-form" id="login-form">
        <div class="input-field">
            <label for="email-login">E-mail or readers card</label>
            <input type="text" id="email-login" name="email">
            <small class="validation"></small>
        </div>

        <div class="input-field password">
            <label for="password-login">Password</label>
            <input type="password" id="password-login" name="password">
            <button type="button" class="btn-eye" id="password-login-visibility">
                <svg class="icon-eye" width="19px" height="19px">
                    <use href="assets/svg/icons.svg#icon-eye"></use>
                </svg>
                <svg class="icon-eye-slash" width="19px" height="19px" style="display: none">
                    <use href="assets/svg/icons.svg#icon-eye-slash"></use>
                </svg>
            </button>
            <small class="validation"></small>
        </div>

        <button type="submit" class="button">Log In</button>
    </form>

    <div class="modal-register-login-alt">
        <span class="modal-register-login-alt__text">Don&#39;t have an account?</span>
        <button class="modal-register-login-alt__btn sign-up">Register</button>
    </div>
</div>


<script defer src="assets/js/current_user.js"></script>
<script defer src="assets/js/user_sync.js"></script>
<script defer src="assets/js/registration.js"></script>
<script defer src="assets/js/update_UI_on_login.js"></script>
<script defer src="assets/js/profile-dropdown.js"></script>
<script defer src="assets/js/burger.js"></script>
<script defer src="assets/js/books_data.js"></script>
<script defer src="assets/js/modal.js"></script>
<script defer src="assets/js/profile-modal.js"></script>
<script defer src="assets/js/chat.js"></script>


</body>
</html>